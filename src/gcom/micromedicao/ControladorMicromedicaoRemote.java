package gcom.micromedicao;

import gcom.cadastro.imovel.FiltroImovelSubCategoria;
import gcom.cadastro.imovel.Imovel;
import gcom.cadastro.imovel.bean.ImovelCobrarDoacaoHelper;
import gcom.cadastro.sistemaparametro.SistemaParametro;
import gcom.faturamento.FaturamentoGrupo;
import gcom.micromedicao.consumo.FiltroConsumoHistorico;
import gcom.micromedicao.hidrometro.Hidrometro;
import gcom.micromedicao.medicao.FiltroMedicaoHistorico;
import gcom.micromedicao.medicao.MedicaoTipo;
import gcom.relatorio.micromedicao.FiltrarRelatorioAnormalidadeLeituraPeriodoHelper;
import gcom.relatorio.micromedicao.RelatorioAnormalidadeLeituraPeriodoBean;
import gcom.util.ControladorException;
import gcom.util.ErroRepositorioException;

import java.rmi.RemoteException;
import java.util.Collection;

/**
 * < <Descrição da Interface>>
 * 
 * @author Administrador
 * @created 13 de Setembro de 2005
 */
public interface ControladorMicromedicaoRemote extends javax.ejb.EJBObject {
	/**
	 * < <Descrição do método>>
	 * 
	 * @param faturamentoGrupo
	 *            Descrição do parâmetro
	 * @param sistemaParametro
	 *            Descrição do parâmetro
	 * @exception RemoteException
	 *                Descrição da exceção
	 */
	public void consistirLeiturasCalcularConsumos(
			FaturamentoGrupo faturamentoGrupo, SistemaParametro sistemaParametro)
			throws RemoteException;

	/**
	 * < <Descrição do método>>
	 * 
	 * @param imovel
	 *            Descrição do parâmetro
	 * @param sistemaParametro
	 *            Descrição do parâmetro
	 * @param medicaoTipo
	 *            Descrição do parâmetro
	 * @return Descrição do retorno
	 * @exception RemoteException
	 *                Descrição da exceção
	 */
	public int[] obterConsumoMedioHidrometro(Imovel imovel,
			SistemaParametro sistemaParametro, MedicaoTipo medicaoTipo)
			throws RemoteException;

	/**
	 * Description of the Method
	 * 
	 * @param hidrometro
	 *            Description of the Parameter
	 * @exception RemoteException
	 *                Description of the Exception
	 */
	public void atualizarHidrometro(Hidrometro hidrometro)
			throws RemoteException;

	/**
	 * Description of the Method
	 * 
	 * @param hidrometros
	 *            Description of the Parameter
	 * @param hidrometroAtualizado
	 *            Description of the Parameter
	 * @exception RemoteException
	 *                Description of the Exception
	 */
	public void atualizarConjuntoHidrometro(Collection hidrometros,
			Hidrometro hidrometroAtualizado) throws RemoteException;
	
	
	/*
	 * [UC0121] - Filtrar Exceções de Leituras e Consumos
	 * Flávio Leonardo Cavalcanti Cordeiro
	 */
	public Collection filtrarExcecoesLeiturasConsumos(FiltroImovelSubCategoria filtroImovelSubCategoria, 
			FiltroConsumoHistorico filtroConsumoHistorico, 
			FiltroMedicaoHistorico filtroMedicaoHistorico, String qtdEconomias, String consumoMedioMinimo)
			throws RemoteException;
	
	/**
	 * Permite pesquisar imóvel doação baseando-se em rotas
	 * [UC0394] Gerar Débitos a Cobrar de Doações
	 * @author  César Araújo
	 * @date    05/08/2006
	 * @param   Collection<Rota> rotas - Coleção de rotas
	 * @return  Collection<ImovelCobrarDoacaoHelper> - Coleção de ImovelCobrarDoacaoHelper 
	 *          já com as informações necessárias para registro da cobrança
	 * @throws  ErroRepositorioException
	 * @throws ControladorException 
	**/ 
	public Collection<ImovelCobrarDoacaoHelper> pesquisarImovelDoacaoPorRota(Collection<Rota> rotas) throws ControladorException;

	/**
	 *[UC0965] - Relatorio de Anormalidade de Leitura por Periodo
	 *
	 *@since 03/11/2009
	 *@author Marlon Patrick
	 */
	public Collection<RelatorioAnormalidadeLeituraPeriodoBean> pesquisarRelatorioAnormalidadeLeituraPeriodo(FiltrarRelatorioAnormalidadeLeituraPeriodoHelper filtro) throws ControladorException;

}
